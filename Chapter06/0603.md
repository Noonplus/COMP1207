## การวนรอบทำซ้ำ
การวนรอบทำซ้ำเป็นคำสั่งควบคุมให้โปรแกรมทำงานซ้ำชุดคำสั่งตามเงื่อนไขที่กำหนด หรือเรียกว่า การใช้งานคำสั่งโปรแกรมลูป (loop) ซึ่งภาษาคอมพิวเตอร์มีการกำหนดรูปแบบการวนรอบทำซ้ำไว้หลายรูปแบบ ได้แก่ การวนรอบแบบ while() การวนรอบแบบ do…while() และ การวนรอบแบบ for() 

### คำสั่งวนรอบแบบ while() 
คำสั่งวนรอบแบบ while() เป็นคำสั่งควบคุมการวนรอบในกรณีที่ไม่ทราบจำนวนรอบในการวนลูปที่แน่นอน ซึ่งในการวนรอบของคำสั่ง while() จะเริ่มด้วยการตรวจสอบเงื่อนไขก่อนกระทำการวนรอบทำซ้ำคำสั่งเสมอ ซึ่งหากเงื่อนไขเป็นจริงก็จะทำงานภายในลูป แต่ถ้าเงื่อนไขเท็จก็จะไม่ทำงานตามในลูปเลย ซึ่งโครงสร้างดำเนินการเป็นไปตามภาพ

<img src=img/0606.png>

โครงสร้างคำสั่งแบบการวนรอบแบบ while() โดยลักษณะการดำเนินการ คือ ทำการตรวจสอบเงื่อนไขการวนก่อนทำซ้ำ เมื่อเงื่อนไขเป็นจริง (true) คอมไพเลอร์จึงจะดำเนินการทำซ้ำ คำสั่ง 1; และ คำสั่ง 2; ตามลำดับ และจะสิ้นสุดการวนรอบเมื่อเงื่อนไขเป็นเท็จ (false) ซึ่งรูปแบบโครงสร้างการใช้งานคำสั่ง while() ดังนี้

```
while (เงื่อนไข) {
           คำสั่ง 1;
	คำสั่ง 2;
	……… ;
}
```

โดย เงื่อนไข เป็นนิพจน์เชิงสัมพันธ์ นิพจน์เชิงตรรกะ หรือค่าความจริง เพื่อพิจารณาการวนรอบ โดยเมื่อเงื่อนไขเป็นจริง (true) คอมไพเลอร์จะดำเนินการทำชุดคำสั่งที่อยู่ภายในบล็อค ได้แก่ คำสั่ง 1; คำสั่ง 2; และคำสั่งอื่น ๆ ตามลำดับ สามารถเขียนโปรแกรมตามตัวอย่างโปรแกรม ดังนี้

```
01:#include <stdio.h>	
02:main() {	
03:   int i = 0;	// ประกาศตัวแปรจำนวนเต็ม i = 0
04:   while(i < 5) {	// วนรอบเมื่อ i < 5
05:       printf("Round: %d\n", i+1);	  // แสดงผลลัพธ์ Round i
06:       i++;	  // i = i+1
07:   }	
08:}	
```
[ดาวน์โหลด source code](src/ch06_7.cpp)

จากโปรแกรมมีประกาศรับค่าตัวแปร i โดยให้ค่าเริ่มต้นเท่ากับ 0 และนำค่าตัวแปร i มาทดสอบเงื่อนไขว่า น้อยกว่า 5 หรือไม่ ถ้าใช้จะทำงานคำสั่งภายในลูป โดยการพิมพ์ข้อความ Round และตามต้องค่าของตัวแปร i + 1 ซึ่งโปรแกรมจะดำเนินงานภายใต้ลูปจนกว่าค่าตัวแปร i มากกว่า 5 จึงสิ้นสุดลูปการทำงาน มีผลการทำงานของโปรแกรม ดังนี้

```
01:Round: 1
02:Round: 2
03:Round: 3
04:Round: 4
05:Round: 5
```

### คำสั่งวนรอบแบบ do…while()
คำสั่งวนรอบแบบ do…while() เป็นคำสั่งที่มีการทำซ้ำโดยจะเริ่มจากการทำงานกับคำสั่งไป 1 รอบก่อนแล้วค่อยทดสอบเงื่อนไขก่อนการวนรอบทำซ้ำคำสั่งรอบถัดไป ซึ่งหากเงื่อนไขเป็นจริงก็จะทำงานในลูปต่อไป แต่ถ้าเงื่อนไขเป็นเท็จจะออกจากลูป ซึ่งโครงสร้างดำเนินการเป็นไปตามภาพ

<img src=img/0607.png>

จาภาพแสดงโครงสร้างคำสั่งการวนรอบทำซ้ำแบบ do…while() ที่มีลักษณะการดำเนินการ คือ ทำชุดคำสั่งก่อนแล้วจึงตรวจสอบเงื่อนไข หากเงื่อนไขเป็นจริง (true) จะวนรอบกลับไปทำซ้ำคำสั่งอีกครั้ง แต่ถ้าเงื่อนไขเป็นเท็จ (false) จะสิ้นสุดการวนรอบ ซึ่งคำสั่ง do...while() มีรูปแบบโครงสร้างการเขียน ดังนี้

```
do {
  คำสั่ง 1;
	คำสั่ง 2;
	……… ;
} while (เงื่อนไข);
```

จากโครงสร้างคำสั่ง สามารถเขียนโปรแกรมการใช้งานตามตัวอย่างโปรแกรม ดังนี้

```
01:#include <stdio.h>	
02:main() {	
03:   int i = 1;	// ประกาศตัวแปรจำนวนเต็ม i = 1
04:   do {	
05:       printf("Round: %d\n", i);	  // แสดงผลลัพธ์ Round i
06:       i++;	  // i = i+1
07:   } while (i <= 5)	
08:}	
```
[ดาวน์โหลด source code](src/ch06_7.cpp)

จากโปรแกรมมีประกาศรับค่าตัวแปร i โดยให้ค่าเริ่มต้นเท่ากับ 1 และทำงานคำสั่งภายในลูป โดยการพิมพ์ข้อความ Round และตามต้องค่าของตัวแปร i + 1 หลังจากนั้น ก็จะทำการค่าตัวแปร i มาทดสอบเงื่อนไขว่า น้อยกว่าหรือเท่ากับ 5 หรือไม่ ถ้าเป็นจริงก็จะทำงานดำเนินงานภายใต้ลูปต่อไป แต่ถ้าเป็นเท็จก็จะสิ้นสุดลูปการทำงาน มีผลการทำงานของโปรแกรม ดังนี้

```
01:Round: 1
02:Round: 2
03:Round: 3
04:Round: 4
05:Round: 5
```

### คำสั่งวนรอบแบบ for()
คำสั่งวนรอบแบบ for() เป็นคำสั่งวนรอบที่มีการกำหนดรอบทำซ้ำที่แน่นอน ซึ่งรูปแบบของ for() จะควรคุมการวนรอบด้วยการกำหนดนิพจน์ 3 ส่วนที่จะใช้ในการตรวจสอบเงื่อนไขก่อนการวนรอบทำซ้ำคำสั่งซึ่ งโครงสร้างดำเนินการเป็นไปตามภาพ

<img src=img/0608.png>

จากภาพแสดงโครงสร้างคำสั่งวนซ้ำแบบ for() โดยมีการควบคุมจำนวนรอบการทำซ้ำคำสั่งผ่านการกำหนดนิพจน์ 3 ส่วน ได้แก่ นิพจน์ที่1 คือ นิพจน์ค่าเริ่มต้นหรือคำสั่ง  นิพจน์ที่ 2 คือ นิพจน์คำนวณ หรือนิพจน์เชิงสัมพันธ์ หรือนิพจน์ตรรกะ โดยจะให้ผลลัพธ์ที่เป็นค่าจริง (true) หรือเป็นเท็จ (false) และนิพจน์ที่ 3 คือ นิพจน์สำหรับเปลี่ยนแปลงค่าตัวแปร เพื่อควบคุมจำนวนการวนรอบทำซ้ำคำสั่ง ซึ่งคำสั่ง for() มีรูปแบบโครงสร้างการเขียน ดังนี้

```
for(นิพจน์ 1; นิพจน์ 2; นิพจน์ 3) {
  คำสั่ง 1;
	คำสั่ง 2;
	……… ;
}
```

จากโครงสร้างคำสั่ง สามารถเขียนโปรแกรมการใช้งานตามตัวอย่างโปรแกรม ดังนี้

```
01:include <stdio.h>	// วนรอบเมื่อ i <= 10 
02:main() {	   // โดยประกาศค่า i เริ่มต้นที่ i = 2 
03:   for(int i = 2; i <=10; i+=2) {	   // และ การวนรอบแต่ละครั้ง i เพิ่มครั้งละ 2
04:       printf("%d\n", i);	
05:   } 	
06:}	
```
[ดาวน์โหลด source code](src/ch06_8.cpp)

จากโปรแกรมจะแสดงค่าตัวเลขคู่ โดยเริ่มจากการประกาศรับค่าตัวแปร i โดยให้ค่าเริ่มต้นเท่ากับ 2 และการวนรอบแต่ละครั้งมีการเพิ่มค่าตัวแปร i ครั้งละ 2 และจะสิ้นสุดรอบการทำซ้ำต่อเมื่อค่าตัวแปร i มีค่ามากกว่า 10 และมีผลการทำงานของโปรแกรม ดังนี้

```
01:2
02:4
03:6
04:8
05:10
```

---
#### [<< หน้าก่อนหน้า](0602.md) | [หน้าเลือกหัวข้อ](README.md) | [หน้าต่อไป >>](0604.md)
---
