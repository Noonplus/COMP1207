## ตัวอย่างการพัฒนาโปรแกรมพื้นฐานทางธุรกิจ (ต่อ)
### การตัดสินใจในการลงทุน-การประเมินหามูลค่าปัจจุบัน
การประเมินหามูลค่าปัจจุบัน เป็นการวิเคราะห์การลงทุนโดยพิจารณาจากมูลค่าผลตอบแทนสุทธิ ซึ่งการประเมินหามูลค่าปัจจุบันจะนำมาใช้ประเมินมูลค่าของโครงการระหว่างการดำเนินงาน หรือสามารถประเมินมูลค่าที่จะใช้ในการลงทุนปัจจุบันก็ได้แล้วแต่กรณี โดยจะคำนวณจากกระแสเงินสดที่ได้รับหรือคาดว่าจะได้รับ ภายใต้เงื่อนอัตราผลตอบแทน และระยะเวลาที่ลงทุน (เฉลิมขวัญ ครุธบุญยงค์. 2556)  ซึ่งสามารถแสดงรายละเอียดการวิเคราะห์ ดังตาราง

<img src=img/0900-5.png>

จากตาราง แสดงการวิเคราะห์เพื่อประเมินหามูลค่าปัจจุบัน โดยกำหนดส่วนนำเข้าของกระบวนประเมินมูลค่าการประเมินมูลค่าปัจจุบัน ได้แก่ มูลค่าอนาคตที่ได้ แทนด้วย FV อัตราผลตอบแทน แทนด้วย rate และ ระยะเวลา (ปี) แทนด้วย year และส่วนผลลัพธ์ คือ มูลค่าในปัจจุบันที่จะใช้ลงทุน แทนด้วย PV โดยสามารถเขียนเป็นผังโปรแกรมได้ดังภาพ

<img src=img/0905.png>

จากภาพ แสดงผังงานโปรแกรมประเมินมูลค่าอนาคต ซึ่งมีรายละเอียดขั้นตอนวิธีการทำงาน ดังนี้
1.  ประกาศค่าตัวแปรและกำหนดค่าเริ่มต้น ได้แก่มูลค่าในอนาคต (FV = 0) มูลค่าปัจจุบัน (PV = 0) อัตราตอบแทนที่ต้องการ (rate = 0) และระยะเวลาในการลงทุน (year = 0)
2.  รับเข้าค่าตัวแปรมูลค่าอนาคต (FV) อัตราตอบแทนที่ต้องการ (rate) และ จำนวนปีที่ลงทุน (year)
3.  แสดงมูลค่าอนาคต (FV)
4.  ครบจำนวนปีที่กำหนดหรือไม่

  4.1 ถ้ายัง
  
(1) คำนวนมูลค่าปัจจุบัน (PV)

(2) แสดงมูลค่าปัจจุบัน (PV)

(3) ตั้งค่ามูลค่าอนาคตใหม่ (FV = PV)

  4.2 ถ้าใช่ จบการทำงาน

จากขั้นตอนวิธีข้างต้น สามารถนำไปเขียนโปรแกรมด้วยภาษาซีพลัสพลัสได้ ดังนี้ 

```
#include <stdio.h>
#include <conio.h>
float getPV(float FV, float rate);
main() {
    float FV = 0.00, PV = 0.00, rate = 0.00; int year = 0;
    printf("Present Value Calculator\n");
    printf("Input Future Value:"); scanf("%f", &FV);
    printf("Input Rate (percent):"); scanf("%f", &rate);
    printf("Input Year:"); scanf("%d", &year);
    printf("STATEMENT\n");
    printf("End of Year %d: %.2fB\n", year, FV);
    for(int i = (year-1); i>=0; i--, FV = PV) {
        printf("End of Year %d: %.2fB\n", i, PV=getPV(FV, rate));
    }
}
float getPV(float FV, float rate) {
    return FV*(1-(rate/100.00));
}
```
[ดาวน์โหลด source code](src/ch09_05.cpp)

จากโปรแกรม เมื่อผู้ใช้รับมูลค่าอนาคต อัตราผลตอบแทนที่ต้องการ จำนวนปีที่ลงทุน ได้แก่ 100,000 บาท ร้อยละ 5 ต่อปี และ จำนวนปีลงทุน 5 ปี ตามลำดับ ผลลัพธ์ของการคำนวณจะปรากฏบนจอภาพ ดังนี้

```
Present Value Calculator
Input Future Value:100000
Input Rate (percent):5
Input Year:5
STATEMENT
End of Year 5: 100000.00B
End of Year 4: 95000.00B
End of Year 3: 90250.00B
End of Year 2: 85737.50B
End of Year 1: 81450.63B
End of Year 0: 77378.09B
```

จากผลลัพธ์ แสดงให้เห็นว่าหากต้องการมูลค่า 100,000 ในอนาคต สามาถลงทุนที่มูลค่าปัจจุบัน 77,378.09 บาท ในระยะเวลา 5 ปี ด้วยอัตราผลตอบแทนคงที่ร้อยละ 5 ต่อปี

---
#### [<< หน้าก่อนหน้า](0903-4.md) | [หน้าเลือกหัวข้อ](README.md) | [หน้าต่อไป >>](0903-6.md)
---
