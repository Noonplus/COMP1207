## โครงสร้างแบบลิงค์ลีสต์

โครงสร้างแบบลิงค์ลีสต์ (Linked List) เป็นการเชื่อมโยงข้อมูลด้วยพอยน์เตอร์ ซึ่งวิธีการสร้างโครงสร้างข้อมูลให้ทำงานแบบลิงค์ลีสต์จะต้องกำหนดโครงสร้างข้อมูลเป็น 2 ส่วน ได้แก่ ส่วนที่เป็นข้อมูล และส่วนที่เป็นพอยน์เตอร์ โดยส่วนที่เป็นพอยน์เตอร์จะทำหน้าที่ชี้ไปยังข้อมูลตำแหน่งต่อไปที่เรียกว่าโหนดซึ่งจะเชื่อมโยงเป็นทอด ๆ จนเกิดเป็นสายข้อมูลที่ถูกเรียกว่า ลิงค์ลีสต์ ซึ่งโครงสร้างการเชื่อมโยงแบบลิงค์ลีสต์สามารถแบ่งออกเป็น 2 รูปแบบ ดังนี้

### ลิงค์ลีสต์แบบทิศทางเดียว
โครงสร้างข้อมูลสำหรับลิงค์ลีสต์แบบทิศทางเดียวจะประกอบไปด้วย ส่วนที่เป็นข้อมูล และพอยน์เตอร์จำนวน 1 ตัว ซึ่งจะทำหน้าที่เป็นตัวชี้ไปยังตำแหน่งโหนดต่อไปในหน่วยความจำของข้อมูลโครงสร้างเดียวกัน ดังภาพ

<img src=img/0804.png>

จากภาพ แสดงการเชื่อมโยงแบบทิศทางเดียวระหว่างโหนดด้วยการอ้างอิงค่าผ่านพอยน์เตอร์ ซึ่งสามารถสร้างโครงสร้างข้อมูลสำหรับวิธีการทำงานแบบลิงค์ลีสต์ทิศทางเดียว เช่น

```
01:struct EMPLOYEE {
02:   char empCode[11]; 
03:   char empName[50];
04:   int expYear; 
05:   EMPLOYEE *nxt;            // ส่วนที่เป็นพอยน์เตอร์
06:}
```

จากตัวอย่างโครงสร้างข้อมูล EMPLOYEE ข้างต้น ประกอบด้วย ส่วนข้อมูล 3 ค่า ได้แก่ รหัสพนักงาน (empCode) ชื่อพนักงาน (empName) และจำนวนปีการทำงาน (expYear) และมีส่วนพอยน์เตอร์ชื่อว่า nxt ที่ประกาศเป็นชนิดเดียวกันกับชื่อโครงสร้างข้อมูล EMPLOYEE จะทำหน้าที่เป็นพอยน์เตอร์สำหรับการเชื่อมโยงข้อมูลแบบลิงค์ลีสต์ โครงสร้างข้อมูล EMPLOYEE เป็นโครงสร้างสำหรับการสร้างลิงค์ลีสต์แบบทิศทางเดียว สามารถประกาศใช้ตัวแปรตามโครงสร้างดังกล่าว ดังนี้

```
01:EMPLOYEE emp1, emp2, *p, *temp;      // ประกาศตัวแปรโครงสร้าง EMPLOYEE
```

ตัวแปรชนิดโครงสร้าง emp1 และ emp2 เป็นตัวแปรที่ใช้ในการจัดเก็บส่วนข้อมูลและพอยน์เตอร์เชื่อมโยงโหนด ส่วนพอยน์เตอร์ p และ temp เป็นพอยน์เตอร์สำหรับชี้ข้อมูลตามโครงสร้างดังกล่าว และสามารถระบุตำแหน่งให้กับพอยน์เตอร์ได้ เช่น

```
01:p = temp = &emp1;      // ระบุค่าตำแหน่งให้กับพอยน์เตอร์
```

จากตัวอย่างคำสั่งข้างต้น เป็นการกำหนดให้พอยน์เตอร์ p และ temp ชี้ไปยังตำแหน่งของตัวแปร emp1 ที่ถูกจัดสรรพื้นที่บนหน่วยความจำ และสามารถอ้างอิงค่าตัวแปรภายในโครงสร้างของตัวแปร emp1 ด้วยวิธีการอ้างอิงผ่านตัวแปรพอยน์เตอร์ temp ดังนี้

```
01:temp = &emp1;
02:strcpy(temp -> empCode, "EMP001"); 
03:strcpy(temp -> empName, "Jack Ma"); 
04:temp -> expYear = 10; 
05:temp -> nxt = &emp2;         // การเชื่อมโยงไปยังโหนดถัดไป
06:temp = &emp2;
07:temp -> nxt = NULL;       // สิ้นสุดการเชื่อมโยงไปยังโหนดถัดไป
```

จากตัวอย่าง คำสั่ง temp -> nxt = &emp2; หมายถึง การเชื่อมโยงตัวชี้จากตัวแปร emp1 เชื่อมโยงไปยังตำแหน่งของตัวแปร emp2  และสำหรับตัวแปร emp2 เป็นโหนดสุดท้าย จึงระบุ การเชื่อมโยงของพอยน์เตอร์ nxt ของโหนดดังกล่าวเป็นค่าว่าง ‘\0’ หรือ NULL แสดงวิธีการเขียนโปรแกรมใช้งานตามตัวอย่างโปรแกรม ดังนี้

```
01:#include <stdio.h> 
02:#include <string.h> 
03:main() { 
04:   struct EMPLOYEE {                 
05:         char empCode[11];              
06:         char empName[50];   
07:         int expYear;              
08:         EMPLOYEE *nxt;              
09:    };
10:    EMPLOYEE emp1, emp2, *p, *temp; 
11:    p = temp = &emp1;                                   
12:    strcpy(temp -> empCode, "EMP001"); 
13:    strcpy(temp -> empName, "Jack Ma"); 
14:    temp -> expYear = 10; 
15:    temp -> nxt = &emp2; 
16:    temp = &emp2;                                       
17:    strcpy(temp -> empCode, "EMP002"); 
18:    strcpy(temp -> empName, "Mark Zuckerberg"); 
19:    temp -> expYear = 15; 
20:    temp -> nxt = NULL; 
21:    printf("Code: %s Name: %s Expeirence: %d\n",  
22:            p -> empCode, p -> empName, p -> expYear); 
23:    printf("Code: %s Name: %s Expeirence: %d\n",  
24:            p -> nxt -> empCode, p -> nxt -> empName, p -> nxt -> expYear); 
25:}
```
[ดาวน์โหลด source code](src/ch08_04.cpp)

จากโปรแกรมได้ผลลัพธ์ปรากฏบนจอภาพ ดังนี้

```
01:Code: EMP001 Name: Jack Ma Expeirence: 10
02:Code: EMP002 Name: Mark Zuckerberg Expeirence: 15	
```

### ลิงค์ลีสต์แบบสองทิศทาง
การประยุกต์ใช้พอยน์เตอร์เพื่อสร้างโหนดสามารถทำในรูปแบบลิงค์ลีสต์แบบสองทิศทางได้ โดยลักษณะการเชื่อมโยงระหว่างโหนด ดังแสดงตามภาพ

<img src=img/0805.png>

จากภาพแสดงการเชื่อมโยงระหว่าง 2 โหนดแบบสองทิศทาง วิธีเชื่อมโยงลักษณะดังกล่าวเป็นการเข้าถึงชุดข้อมูลแบบโครงสร้างด้วยการอ้างอิงค่าผ่านพอยน์เตอร์ไปยังโหนดถัดไป และสามารถย้อนกลับไปยังโหนดก่อนหน้าได้ ซึ่งวิธีประกาศโครงสร้างสำหรับการใช้งานลิงค์ลีสต์แบบสองทิศทาง ตัวอย่างดังนี้ 

```
01:struct EMPLOYEE {
02:   char empCode[11];
03:   char empName[50];
04:   int expYear;
05:   EMPLOYEE *bck, *nxt;     // ส่วนพอยน์เตอร์เพื่อเชื่อมโยงโหนด
06:} emp1, emp2, *p, *temp; 
```

รูปแบบโครงสร้างข้อมูลสำหรับลิงค์ลีสต์แบบสองทิศทาง จำเป็นต้องใช้พอยน์เตอร์ 2 ตัว ในที่นี้ได้แก่ พอยน์เตอร์ bck และ nxt ซึ่งวิธีการใช้งานดังตัวอย่างโปรแกรม

```
01:#include <stdio.h>
02:#include <string.h>
03:main() {
04:   struct EMPLOYEE {                   
05:         char empCode[11];       
06:         char empName[50];  
07:         int expYear;         
08:         EMPLOYEE *bck, *nxt; 
09:    } emp1, emp2, *p, *temp;
10:    p = temp = &emp1;                                   
11:    strcpy(temp -> empCode, "EMP001");  
12:    strcpy(temp -> empName, "Jack Ma");  
13:    temp -> expYear = 10; 
14:    temp -> bck = NULL; 
15:    temp -> nxt = &emp2; 
16:    temp = &emp2;                                      
17:    strcpy(temp -> empCode, "EMP002");  
18:    strcpy(temp -> empName, "Mark Zuckerberg");  
19:   temp -> expYear = 15;  
20:    temp -> nxt = NULL; 
21:    temp -> bck = &emp1; 
22:    printf("Code: %s Name: %s Expeirence: %d\n",  
23:            p -> nxt -> empCode, p -> nxt -> empName, p -> nxt -> expYear); 
24:   printf("Code: %s Name: %s Expeirence: %d\n",  
25:            p -> nxt -> bck -> empCode, 
26:            p -> nxt -> bck -> empName, 
27:            p -> nxt -> bck -> expYear);  
28:}
```
[ดาวน์โหลด source code](src/ch08_05.cpp)

จากโปรแกรม ได้ผลลัพธ์ปรากฏบนจอภาพ ดังนี้

```
01:Code: EMP002 Name: Mark Zuckerberg Expeirence: 15
02:Code: EMP001 Name: Jack Ma Expeirence: 10
```

---
#### [<< หน้าก่อนหน้า](0801.md) | [หน้าเลือกหัวข้อ](README.md) | [หน้าต่อไป >>](0803.md)
---
