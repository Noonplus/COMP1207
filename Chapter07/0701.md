## อาเรย์
อาเรย์ (Array) เป็นการรวมของข้อมูลชนิดเดียวกันไว้ภายใต้โครงสร้างเดียวกัน เช่น ถ้าเป็นอาเรย์ชนิดจำนวนเต็ม ข้อมูลทุกตัวในอาเรย์ก็จะเป็นชนิดจำนวนเต็ม ไม่สามารถเก็บข้อมูลต่างชนิดกันได้ เป็นต้น ซึ่งการจัดกลุ่มข้อมูลไว้ด้วยกันทำให้สามารถอ้างอิงถึงกลุ่มข้อมูลด้วยชื่อเดียวกันได้ (Bronson. 2012) ข้อมูลแต่ละตัวของอาเรย์จะเรียกว่าอีลีเมนต์ (Element) หรือสมาชิก (Member) เพื่อการทำความเข้าใจเบื้องต้นเกี่ยวกับโครงสร้างข้อมูลแบบอาเรย์ สามารถพิจารณาจากการประกาศชุดตัวแปรตัวแปรกลุ่มชนิดเดียวกัน ดังนี้

```
01:int x1, x2, x3, x4, x5;      // ประกาศตัวแปรจำนวนเต็ม x1 ถึง x5
```

การประกาศตัวแปรข้างต้นเป็นการประกาศตัวแปรเพื่อเก็บค่าจำนวนเต็ม จำนวน 5 ตัวแปร จะเห็นได้ว่าต้องกำหนดชื่อตัวแปรขึ้นมา 5 ชื่อ แต่เพื่อให้งานต่อการเรียกใช้ตัวแปรสามารถเขียนให้อยู่ในรูปแบบของตัวแปรอาเรย์ โดยให้ตัวแปรแต่ละตัวเป็นอีลีเมนต์หรือสมาชิกของอาเรย์ ดังนี้

```
01:int x[5];	 	             // ประกาศตัวแปรอาเรย์จำนวนเต็ม 5 จำนวน
```

จากตัวอย่างข้างต้นแสดงให้เห็นว่า เมื่อประกาศ int x[5];  หมายถึงการประกาศตัวแปรอาเรย์ที่มีการเก็บข้อมูลจำนวนเต็ม จำนวน 5 จำนวน ในการเขียนอีลีเมนต์หรือสมาชิกตามโครงสร้างแบบอาเรย์ จะใช้หมายเลขอ้างอิงที่เรียกว่า ดัชนี (index) ซึ่งสมาชิกตัวแรกจะเริ่มต้นที่หมายเลข 0 และสมาชิกตัวสุดท้ายจะเป็นหมายเลข n-1 โดยที่ n คือ จำนวนสมาชิกทั้งหมด ดังภาพ

<img src=img/0701.png>

จากภาพแสดงให้เห็นถึงการประกาศตัวแปรอาเรย์ที่มีการจัดสรรพื้นที่บนหน่วยความจำแบบบล็อกที่มีลำดับการจัดเรียงของข้อมูลของแต่ละสมาชิกในอาเรย์อย่างต่อเนื่อง  โดยตัวแปรแบบอาเรย์ int x[5]; จะมีการจองพื้นที่บนหน่วยความจำในลำดับติดกันจากสมาชิกตัวแรก x[0] ไปจนถึงสมาชิกตัวสุดท้าย x[4] โดยสมาชิกแต่ละตัวมีขนาดเท่ากันเนื่องจากถูกประกาศภายใต้ชนิดตัวแปรเดียวกัน ในที่นี้ int คือ ชนิดจำนวนเต็มขนาด 4 ไบท์ นอกจากนี้ ในการแทนค่าสมาชิกของอาเรย์ สามารถทำได้ ดังนี้

```
01:int x[0] = 10;	// กำหนดให้สมาชิกตัวแรก x[0] มีค่าเท่ากับ 10
02:int x[4] = 30;	// กำหนดให้สมาชิกตัวสุดท้าย x[4] มีค่าเท่ากับ 30
```

จากตัวอย่างข้างต้น จะเห็นว่าสมาชิก x[0] มีการกำหนดค่าเท่ากับ 10 และสมาชิก x[4] ถูกกำหนดค่าเท่ากับ 30 อย่างไรก็ตาม ในการใช้งานอาเรย์สิ่งที่ต้องระวังคือ การเรียกใช้งานเกินขอบเขตของสมาชิก เช่น ประกาศตัวแปรอาเรย์ int x[5]; จะรองรับสมาชิกได้ 5 ค่า คือ x[0], x[1], x[2], x[3] และ x[4] เท่านั้น ไม่สามารถอ้างอิงค่าดัชนีอื่น ๆ ได้ เช่น x[5] หรือ x[-1] เป็นต้น ข้อผิดพลาดของคำสั่งในลักษณะนี้จะเรียกว่า “error out of bounds” และเพื่อให้เกิดความเข้าใจในการดำเนินการจัดสรรพื้นที่ของตัวแปรที่อยู่ในรูปแบบตัวแปรพื้นฐานปกติกับตัวแปรโครงสร้างแบบอาเรย์ สามารถพิจารณาได้จากโปรแกรม

```
01:#include <iostream>  
02:using namespace std;
03:main() {
04:   int x1, x2, x3, x4, x5;        // ประกาศตัวแปรแบบปกติ
05:   int x[5];                           // ประกาศตัวแปรแบบอาเรย์
06:   cout << "Address: x1, x2, x3, x4 and x5" << endl;
07:   cout << &x1 << endl;
08:   cout << &x2 << endl;
09:   cout << &x3 << endl;
10:   cout << &x4 << endl;
11:   cout << &x5 << endl;
12:   cout << "Address: int x[5]" << endl;
13:   cout << &x[0] << endl;
14:   cout << &x[1] << endl;
15:   cout << &x[2] << endl;
16:   cout << &x[3] << endl;
17:   cout << &x[4];
18:}
```
[ดาวน์โหลด source code](src/ch07_01.cpp)

ซึ่งผลการทำงานของโปรแกรม ดังนี้

```
01: Address: x1, x2, x3, x4 and x5
02: 0x69fefc
03: 0x69fef8
04: 0x69fef4
05: 0x69fef0
06: 0x69feec
07: Address: int x[5]
08: 0x69fed8
09: 0x69fedc
10: 0x69fee0
11: 0x69fee4
12: 0x69fee8
```
หมายเหตุ: ผลลัพธ์ตำแหน่งที่ปรากฏขึ้นอยู่กับการจัดสรรพื้นที่ของระบบปฏิบัติการ

จากผลการทำงานแสดงให้เห็นว่าการประกาศตัวแปรแบบอาเรย์สมาชิกจะได้รับการจัดสรรพื้นที่ในลำดับที่ต่อเนื่องกัน

---
#### [หน้าเลือกหัวข้อ](README.md) | [หน้าต่อไป >>](0702.md)
---
