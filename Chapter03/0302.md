## โครงสร้างการเขียนโปรแกรม
โครงสร้างของภาษาคอมพิวเตอร์เป็นการแบ่งองค์ประกอบของการเขียนโปรแกรมซึ่งทุกภาษาคอมพิวเตอร์จะต้องมีลักษณะใกล้เคียงกัน แม้ภาษาซีพลัสพลัสจะเป็นภาษาที่รองรับการเขียนโปรแกรมเชิงวัตถุ แต่ก็มีโครงสร้างพื้นฐานในการเขียนโปรแกรมที่เข้าใจง่าย ไม่แตกต่างจากรุ่นภาษาซี โดยยังคงโครงสร้างพื้นฐานเอาไว้ ซึ่งโครงสร้างการเขียนโปรแกรมสามารถแบ่งออกได้ 3 ส่วนหลัก

โครงสร้างการเขียนโปรแกรมภาษาซี ดังภาพ

<img src=img/0301.png>

### ส่วนหัวโปรแกรม
ส่วนหัวโปรแกรม (Program Header) กำหนดไว้ยังส่วนบนสุดของโปรแกรมโดยมีวัตถุประสงค์เพื่อประมวลผลข้อมูลเบื้องต้น และนำไปใช้ดำเนินการต่อในส่วนของฟังก์ชันหลัก ซึ่งในส่วนนี้จะเป็นส่วนแรกที่คอมไพลเลอร์จะทำการประมวลผลก่อนส่วนอื่น โดยที่ส่วนหัวของโปรแกรมเป็นส่วนที่ใช้สำหรับการเขียนคำสั่งการเรียกใช้งานไลบรารี ประกาศใช้งานค่าคงที่ ประกาศตัวแปรแบบสาธารณะ ประกาศใช้เนมสเปสซ์ ประกาศชนิดข้อมูลใหม่ และประกาศรูปแบบเรียกใช้งานฟังก์ชันย่อย ซึ่งการประกาศค่าต่าง ๆ บนส่วนหัวโปรแกรม การเขียนคำสั่งในส่วนนี้จะเริ่มด้วยเครื่องหมายไดเรกทีฟ (#) แล้วตามด้วยชื่อที่ต้องการกำหนดค่า ตัวอย่างรูปแบบคำสั่งที่ใช้บ่อย อาทิ คำสั่ง #include ซึ่งเป็นคำสั่งสำหรับการเรียกใช้งานไลบรารีต่าง ๆ ที่โปรแกรมต้องการใช้งานก่อนที่จะไปประมวลผลในส่วนฟังก์ชันหลัก ซึ่งมีรูปแบบคำสั่ง ดังนี้

```
#include <ชื่อไลบรารี>
```

จากโครงสร้างคำสั่งข้างต้น แสดงการใช้คำสั่ง #include ตามด้วยชื่อไลบรารี ที่อยู่ในสัญลักษณ์เครื่องหมาย < > เปิด-ปิด 	ในที่นี้ขอยกตัวอย่างการเรียกใช้งานไลบรารี iostream ซึ่งเป็นไลบรารีที่เกี่ยวข้องกับการใช้งานคำสั่งรับและแสดงผลแบบสตรีม โดยไลบรารี iostream สามารถใช้ได้กับคอมไพเลอร์รุ่นภาษาซีพลัสพลัส โดยสามารถเขียนเรียกใช้งานไลบรารีดังกล่าวได้ ดังนี้

```
#include <iostream>	// ใช้งานไลบรารี iostream
```

### ส่วนฟังก์ชันหลัก
ฟังก์ชันหลัก (Main Program) เป็นส่วนที่ใช้เขียนโปรแกรมคำสั่งเพื่อเริ่มต้นทำงาน โดยส่วนฟังก์ชันหลักจะประมวลผลหลังจากที่คอมไพเลอร์ประมวลผลส่วนหัวโปรแกรมเสร็จสิ้นแล้ว ในภาษาซีและซีพลัสพลัส จะมีเริ่มต้นโครงสร้างฟังก์ชันหลักด้วยคำสั่ง main() ซึ่งจะมีโครงสร้างการเขียน ดังนี้

```
main() {
        คำสั่ง;
        คำสั่ง;
        .........
}
```

จากโครงสร้างฟังก์ชันหลัก main() แสดงตัวอย่างการเขียนโปรแกรมเบื้องต้น เช่น

```
#include <iostream>	// ใช้งานไลบรารี iostream
int main() {	// ส่วนโปรแกรมหลัก
      std::cout << "Hello World";	  // แสดงข้อความ "Hello World"
      return 0;	  // คืนค่าทรัพยากรก่อนสิ้นสุดโปรแกรมหลัก
}	// สิ้นสุดส่วนโปรแกรมหลัก
```

คำสั่ง return 0; และก่อนสิ้นสุดการทำงานของโปรแกรมหลักจะต้องใส่เครื่องหมาย “ } ” ด้วยเสมอ รูปแบบนี้เป็นการกำหนดไว้เพื่อคืนค่าทรัพยากรหน่วยความจำให้กับระบบเมื่อเสร็จสิ้นการทำงานของโปรแกรม อย่างไรก็ตาม เมื่อสิ้นสุดการทำงานของฟังก์ชันหลัก main() นั่นหมายถึง การจบการทำงานของโปรแกรมด้วย โดยทั่วไประบบปฏิบัติการจะทำหน้าที่คืนทรัพยากรหน่วยความจำที่ใช้ให้กับระบบอยู่แล้ว ดังนั้น อาจจะเขียนฟังก์ชัน main() อยู่ในรูปแบบชนิดไม่คืนค่าก็ได้ 

```
#include <iostream>	// ใช้งานไลบรารี iostream
main() {	// ส่วนโปรแกรมหลัก
      std::cout << "Hello World";	    // แสดงข้อความ "Hello World"
}	// สิ้นสุดส่วนโปรแกรมหลัก
```

### ส่วนฟังก์ชันย่อย
ฟังก์ชันย่อยเป็นส่วนโปรแกรมที่เขียนต่อจากฟังก์ชันหลัก ซึ่งในการเขียนโปรแกรมฟังก์ชันย่อยจะมีหรือไม่มีเลยก็ได้ขึ้นอยู่กับการออกแบบโปรแกรม ฟังก์ชันย่อยมีรูปแบบโครงสร้างการเขียนคล้ายกับฟังก์ชันหลัก แต่จะสามารถเขียนได้มากกว่าหนึ่งฟังก์ชัน โดยปกติฟังก์ชันย่อยจะทำงานได้ก็ต่อเมื่อถูกเรียกใช้งานจากฟังก์ชันหลัก ตัวอย่างรูปแบบการเขียนฟังก์ชันย่อย เช่น

```
#include <iostream>	// ใช้งานไลบรารี iostream
void HelloWorld();	// ประการรูปแบบการเรียกใช้
main() {	// ส่วนโปรแกรมหลัก main()
      HelloWorld();	    // เรียกใช้งานฟังก์ชัน HelloWorld();
}	// สิ้นสุดส่วนโปรแกรมหลัก
void HelloWorld() {	// ส่วนโปรย่อย HelloWorld()
      std::cout << "Hello World";	    // แสดงข้อความ "Hello World"
}	// สิ้นสุดโปรย่อย HelloWorld()
```

จากตัวอย่างข้างต้น แสดงส่วนประกอบ 3 ส่วน ได้แก่ ส่วนหัวโปรแกรม ส่วนฟังก์ชันหลัก main() และ ส่วนของฟังก์ชันย่อย HelloWorld() 

---
#### [<< หน้าก่อนหน้า](0301.md) | [หน้าเลือกหัวข้อ](README.md) | [หน้าต่อไป >>](0303.md)
---

